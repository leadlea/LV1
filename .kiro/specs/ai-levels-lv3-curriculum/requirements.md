# 要件定義書: AI Levels Lv3 カリキュラム

## はじめに

AI Levels Lv3は、Lv2（業務プロセス設計×AI実行指示×成果物検証×改善サイクル）を合格した受講者が次に取り組むカリキュラムである。Lv1では「何は人間が、何はAIがやるべきか」「AIにどう依頼すべきか」の基礎を学び、Lv2では「AIを活用した業務プロセスを自ら設計・実行・検証し、チームに展開できる状態」を達成した。Lv3では、その実践力を土台に、AI活用プロジェクトをリードし、チーム全体のAI活用レベルを引き上げる戦略を策定・実行できる状態を目指す。

カリキュラム設計は以下の方法論に従う:
- ① 定義の具体化: コンサルとしてどのような価値を提供できる状態か
- ② 達成基準決め: 具体化された定義の達成をどう測定するか
- ③ テスト作成: 達成基準をクリアしたか判断できるテスト設計

既存のLv1・Lv2と同一アーキテクチャ（Lambda + Bedrock + DynamoDB + 3エージェントパイプライン）を活用し、Lv3固有のプロンプト・テスト設計・フロントエンドを追加する。

## 用語集

- **フロントエンド**: S3に配置されCloudFrontで配信される静的Webサイト
- **バックエンドAPI**: API Gateway（REST）+ Lambda（Python 3.12）で構成されるサーバーレスAPI
- **出題エージェント（Test_Generator）**: カリキュラムに基づきテスト・ドリルを生成するAIエージェント
- **採点エージェント（Grader）**: ユーザー回答を受け取り合否判定を行うAIエージェント
- **レビューエージェント（Reviewer）**: 採点結果をもとにフィードバック・解説を生成するAIエージェント
- **Bedrock_Runtime**: AWS Bedrock上のClaude Sonnet 4.6モデルを呼び出すランタイム
- **セッション**: ブラウザ上で1回のLv3実行を開始してから完了するまでの一連の操作
- **ゲーティング**: 前レベル合格がないと次レベルを表示しない制御構造
- **Lv3カリキュラム**: Lv3で扱う学習内容（AI活用プロジェクトリーダーシップ×チームAI戦略策定×AI導入計画立案×スキル育成計画×ROI評価改善）
- **完了レコード**: 全ステップ完了時にDynamoDBに保存される設問・回答・採点結果の一式
- **プロジェクトリーダーシップシナリオ**: AI活用プロジェクトのリーダーとしての意思決定を求める高度な問題形式
- **AI活用プロジェクトリーダーシップ**: AI導入プロジェクトの計画・推進・管理を主導する能力
- **チームAI戦略策定**: チーム全体のAI活用方針・ロードマップを設計する能力
- **AI導入計画立案**: 具体的なAI導入のスケジュール・リソース・マイルストーンを策定する能力
- **スキル育成計画**: チームメンバーのAIスキルレベルを把握し、段階的な育成プランを設計する能力
- **ROI評価改善**: AI活用の投資対効果を定量的に評価し、改善施策を立案する能力

## 要件

### 要件1: Lv3カリキュラム定義（①定義の具体化）

**ユーザーストーリー:** カリキュラム設計者として、Lv3到達者が提供できる具体的な価値を定義したい。Lv2の実践力を前提に、プロジェクトリーダーとしてチーム全体のAI活用を推進できるスキルセットを明確にするため。

#### 受入基準

1. THE Lv3カリキュラム SHALL 「AI活用プロジェクトリーダーシップ×チームAI戦略策定×AI導入計画立案×スキル育成計画×ROI評価改善」をテーマとして定義する
2. THE Lv3カリキュラム SHALL Lv2の定義（業務プロセス設計・AI実行指示・成果物検証・改善サイクルの実践力）を前提知識として位置づける
3. THE Lv3カリキュラム SHALL 以下の5つの能力を到達目標として定義する: (a) AI活用プロジェクトの目的・スコープ・体制を設計し、プロジェクト計画を策定できる (b) チーム全体のAI活用方針とロードマップを策定し、段階的な導入戦略を設計できる (c) AI導入の具体的な実行計画（スケジュール・リソース・マイルストーン・リスク対策）を立案できる (d) チームメンバーのAIスキルレベルを評価し、個別の育成計画を設計できる (e) AI活用の投資対効果を定量的に評価し、データに基づく改善施策を立案できる
4. THE Lv3カリキュラム SHALL Lv3到達者の価値を「AI活用プロジェクトをリードし、チーム全体のAI活用レベルを引き上げる戦略を策定・実行できる状態」と定義する

### 要件2: Lv3達成基準（②達成基準決め）

**ユーザーストーリー:** カリキュラム設計者として、Lv3の達成を客観的に測定できる基準を設けたい。受講者のプロジェクトリーダーとしての到達度を正確に判定するため。

#### 受入基準

1. THE Lv3カリキュラム SHALL 各到達目標に対して以下の達成基準を設定する: (a) AI活用プロジェクトリーダーシップ: 与えられた組織課題に対し、AI活用プロジェクトの目的・スコープ・体制・スケジュールを含む計画を策定できること (b) チームAI戦略策定: チームの現状分析に基づき、短期・中期・長期のAI活用ロードマップを策定できること (c) AI導入計画立案: 具体的なAI導入シナリオに対し、実行計画・リソース配分・リスク対策を含む導入計画を立案できること (d) スキル育成計画: チームメンバーのスキル状況に基づき、段階的な育成プランと評価指標を設計できること (e) ROI評価改善: AI活用の実績データに基づき、定量的なROI評価と具体的な改善施策を提示できること
2. THE Grader SHALL 各達成基準に対して0〜100のスコアで採点し、各基準60点以上を合格とする
3. THE Grader SHALL 全5基準の合格をもってLv3合格と判定する

### 要件3: Lv3テスト設計（③テスト作成）

**ユーザーストーリー:** カリキュラム受講者として、プロジェクトリーダーシップシナリオ形式の高度なテストを受けたい。実務でのリーダーシップ能力を確認できるようにするため。

#### 受入基準

1. WHEN ユーザーがLv3セッションを開始する, THE Test_Generator SHALL AI活用プロジェクトのリーダーシップシナリオに基づく5問のテスト・ドリルを生成する
2. THE Test_Generator SHALL 各設問を以下の形式で生成する: (a) ステップ1（AI活用プロジェクトリーダーシップ）: scenario形式 — 組織のAI活用課題を提示し、プロジェクト計画（目的・スコープ・体制・スケジュール）の策定を求める (b) ステップ2（チームAI戦略策定）: free_text形式 — ステップ1の組織状況に基づき、チーム全体のAI活用ロードマップ（短期・中期・長期）の策定を求める (c) ステップ3（AI導入計画立案）: scenario形式 — 具体的なAI導入対象業務を提示し、実行計画・リソース配分・リスク対策を含む導入計画の立案を求める (d) ステップ4（スキル育成計画）: scenario形式 — チームメンバーのスキル状況データを提示し、段階的な育成プランと評価指標の設計を求める (e) ステップ5（ROI評価改善）: free_text形式 — AI活用の実績データを提示し、定量的なROI評価と改善施策の立案を求める
3. WHEN 同一ユーザーがLv3セッションを再実行する, THE Test_Generator SHALL 前回とは異なる組織シナリオのプロジェクトリーダーシップシナリオを生成する
4. THE Test_Generator SHALL 5問すべてを同一の組織シナリオに基づいて生成し、一貫性のあるプロジェクトリーダーシップシナリオとする
5. THE Test_Generator SHALL プロジェクトリーダーシップシナリオの組織状況として、コンサルティング業務で実際に発生しうるAI導入プロジェクトの状況を使用する

### 要件4: Lv3テスト・ドリルのランダム生成

**ユーザーストーリー:** カリキュラム受講者として、実行するたびに異なるプロジェクトリーダーシップシナリオを受け取りたい。暗記ではなく戦略立案力を確認できるようにするため。

#### 受入基準

1. WHEN ユーザーがLv3セッションを開始する, THE Test_Generator SHALL Lv3カリキュラム「AI活用プロジェクトリーダーシップ×チームAI戦略策定×AI導入計画立案×スキル育成計画×ROI評価改善」に基づいたテスト・ドリルを生成する
2. WHEN Test_GeneratorがLv3テスト・ドリルを生成する, THE バックエンドAPI SHALL Bedrock_Runtimeを通じてClaude Sonnet 4.6モデルを呼び出す
3. WHEN Lv3テスト・ドリルが生成される, THE Test_Generator SHALL ステップバイステップで進行可能な形式で設問を構成する
4. THE Test_Generator SHALL 生成結果をJSON形式で返却し、各設問にstep（1〜5の連番）、type、prompt、options（該当する場合）、contextフィールドを含める

### 要件5: Lv3回答の採点

**ユーザーストーリー:** カリキュラム受講者として、Lv3の各設問に対して達成基準に基づいた採点を受けたい。自分のプロジェクトリーダーシップ能力を客観的に確認できるようにするため。

#### 受入基準

1. WHEN ユーザーがLv3設問に回答を送信する, THE Grader SHALL Lv3の達成基準に基づいて回答内容を採点する
2. WHEN GraderがLv3の採点を実行する, THE バックエンドAPI SHALL Bedrock_Runtimeを通じてClaude Sonnet 4.6モデルを呼び出す
3. WHEN GraderがLv3の採点を完了する, THE Grader SHALL 0〜100のスコアと合格（60点以上）または不合格の判定結果を返却する
4. THE Grader SHALL Lv3固有の採点基準（プロジェクト計画の実現可能性、戦略の論理的整合性、導入計画の具体性、育成プランの段階性、ROI評価の定量性）を適用する

### 要件6: Lv3フィードバック・解説の生成

**ユーザーストーリー:** カリキュラム受講者として、Lv3の採点結果に基づいたリーダーシップ向上のためのフィードバックを受け取りたい。プロジェクトリーダーとしての改善ポイントを把握できるようにするため。

#### 受入基準

1. WHEN GraderがLv3の採点結果を返却する, THE Reviewer SHALL 採点結果をもとにLv3の学習目標に沿ったフィードバックと解説を生成する
2. WHEN ReviewerがLv3のフィードバックを生成する, THE バックエンドAPI SHALL Bedrock_Runtimeを通じてClaude Sonnet 4.6モデルを呼び出す
3. WHEN ReviewerがLv3のフィードバック生成を完了する, THE フロントエンド SHALL フィードバックと解説をユーザーに表示する
4. THE Reviewer SHALL フィードバックにプロジェクトリーダーとしての具体的な改善アクションとベストプラクティスを含める

### 要件7: Lv3用3エージェント連動パイプライン

**ユーザーストーリー:** カリキュラム受講者として、Lv3でも出題→回答→採点→レビューの一連の流れをシームレスに体験したい。途切れることなく学習を進められるようにするため。

#### 受入基準

1. THE バックエンドAPI SHALL Lv3用のTest_Generator、Grader、Reviewerの3エージェントを順序通りに連動させるパイプラインを提供する
2. WHEN Test_GeneratorがLv3テスト・ドリルを生成完了する, THE フロントエンド SHALL 設問をユーザーに表示し回答入力を受け付ける
3. WHEN ユーザーがLv3の回答を送信する, THE バックエンドAPI SHALL Graderに回答を渡してLv3基準で採点を実行する
4. WHEN GraderがLv3の採点を完了する, THE バックエンドAPI SHALL Reviewerに採点結果を渡してLv3向けフィードバック生成を実行する
5. WHEN Lv3の全ステップが完了する, THE フロントエンド SHALL 最終結果（各基準の合否・総合判定・フィードバック）をユーザーに表示する

### 要件8: Lv3完了時のデータ永続化

**ユーザーストーリー:** システム運営者として、Lv3の全ステップを完了したセッションのデータをDynamoDBに保存したい。受講者の進捗を管理し、Lv4以降のゲーティングに活用するため。

#### 受入基準

1. WHEN ユーザーがLv3の全ステップを完了する, THE バックエンドAPI SHALL 設問・回答・採点結果の完了レコードをDynamoDBに保存する
2. WHILE ユーザーがLv3セッション途中である, THE バックエンドAPI SHALL DynamoDBへの書き込みを行わない
3. WHEN Lv3完了レコードをDynamoDBに保存する, THE バックエンドAPI SHALL セッション識別子、タイムスタンプ、全設問、全回答、全採点結果、最終合否を含める
4. WHEN Lv3完了レコードをDynamoDBに保存する, THE バックエンドAPI SHALL SK（ソートキー）を「RESULT#lv3」として保存し、Lv1・Lv2の結果と区別する
5. IF DynamoDBへのLv3保存が失敗する, THEN THE バックエンドAPI SHALL エラーをログに記録しユーザーにリトライ可能な旨を通知する

### 要件9: Lv3ゲーティング

**ユーザーストーリー:** カリキュラム受講者として、Lv2に合格した後にLv3にアクセスしたい。段階的に学習を積み上げられるようにするため。

#### 受入基準

1. WHILE ユーザーがLv2に合格していない, THE フロントエンド SHALL Lv3を非表示かつアクセス不可とする
2. WHEN ユーザーがLv2に合格する, THE フロントエンド SHALL Lv3カードを表示し「開始する」ボタンを有効にする
3. WHEN ユーザーがLv3に合格する, THE バックエンドAPI SHALL progressテーブルのlv3_passedフラグをtrueに更新する
4. THE バックエンドAPI SHALL レベル合格状態検証エンドポイント（GET /levels/status）でLv3の合格状態を返却する
5. WHEN フロントエンドがレベル表示を判定する, THE フロントエンド SHALL バックエンドAPIのレベル合格状態検証エンドポイントを呼び出してLv3の表示可否を判定する

### 要件10: Lv3フロントエンド

**ユーザーストーリー:** カリキュラム受講者として、Lv3専用のテスト画面でプロジェクトリーダーシップシナリオに取り組みたい。Lv3の学習内容に集中できるようにするため。

#### 受入基準

1. THE フロントエンド SHALL Lv3専用のテスト実行ページ（lv3.html）を提供する
2. THE フロントエンド SHALL lv3.htmlでLv3の5ステップ（AI活用プロジェクトリーダーシップ→チームAI戦略策定→AI導入計画立案→スキル育成計画→ROI評価改善）を順次表示する
3. WHEN ユーザーがlv3.htmlにアクセスする, THE フロントエンド SHALL Lv2合格状態を検証し、未合格の場合はindex.htmlにリダイレクトする
4. THE フロントエンド SHALL index.htmlのLv3カードにlv3.htmlへのリンクを設定する
5. THE フロントエンド SHALL Lv3のプロジェクトリーダーシップシナリオ形式に適したUI（組織状況表示エリア、戦略記述用の構造化テキストエリア、データ表示エリア）を提供する

### 要件11: Lv3バックエンドAPIエンドポイント

**ユーザーストーリー:** 開発者として、Lv3用のAPIエンドポイントを追加したい。Lv1・Lv2のエンドポイントと分離し、レベル固有のプロンプト・ロジックを適用するため。

#### 受入基準

1. THE バックエンドAPI SHALL POST /lv3/generate エンドポイントを提供し、Lv3用テスト・ドリル生成を処理する
2. THE バックエンドAPI SHALL POST /lv3/grade エンドポイントを提供し、Lv3用回答採点を処理する
3. THE バックエンドAPI SHALL POST /lv3/complete エンドポイントを提供し、Lv3用完了レコード保存を処理する
4. THE バックエンドAPI SHALL 各Lv3エンドポイントでLv3固有のシステムプロンプトを使用する
5. THE バックエンドAPI SHALL 既存のGET /levels/statusエンドポイントを拡張し、Lv3の合格状態を含めて返却する
6. THE バックエンドAPI SHALL 各Lv3エンドポイントでCORS（Access-Control-Allow-Origin: *）を有効にする

### 要件12: Lv3デプロイメント

**ユーザーストーリー:** 開発者として、Lv3の追加をCI/CDパイプラインで自動デプロイしたい。既存のデプロイフローを維持しつつLv3を追加するため。

#### 受入基準

1. THE serverless.yml SHALL Lv3用の3つのLambda関数（generate、grade、complete）を定義する
2. WHEN コードがmainブランチにpushされる, THE CI/CDパイプライン SHALL Lv3のLambda関数を含めてデプロイする
3. WHEN コードがmainブランチにpushされる, THE CI/CDパイプライン SHALL lv3.htmlを含むフロントエンドをS3に同期する
4. THE serverless.yml SHALL Lv3のLambda関数に既存と同じDynamoDB・Bedrockのアクセス権限を付与する

### 要件13: Lv4の定義（将来拡張の方向性）

**ユーザーストーリー:** カリキュラム設計者として、Lv4の方向性を定義しておきたい。カリキュラム全体の一貫性を保ちながら段階的に拡張するため。

#### 受入基準

1. THE Lv4カリキュラム SHALL 「Lv4到達者は組織横断でAI活用の標準化・ガバナンスを設計し、持続的なAI活用文化を構築できる状態」を目標として定義する
2. THE フロントエンド SHALL Lv4のカードをindex.htmlに「Coming Soon」として表示し続ける
3. WHEN ユーザーがLv3に合格する, THE フロントエンド SHALL Lv4カードのステータスを「Coming Soon」のまま維持する
